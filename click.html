<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiny Tribes ‚Äì Medieval Click Kingdoms</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="click.css">

    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                // Custom colors to match the existing game feel
              }
            }
          }
        }
    </script>
</head>
<body>
    <div class="container">
        
        <p id="authStatus" class="text-center text-sm mb-4 text-gray-700">Checking authentication state...</p>

        <!-- AUTH UI -->
        <div id="authUi">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Enter the Realm</h2>
            <p class="text-center text-xs mb-3 text-gray-600">
                Sign in or create an account to build your medieval kingdom.
            </p>
            <input
                type="email"
                id="email"
                placeholder="Email"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm mb-3"
            >
            <input
                type="password"
                id="password"
                placeholder="Password (min 6 characters)"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm mb-4"
            >
            
            <div class="flex flex-col sm:flex-row gap-3 justify-center">
                <button
                    id="signUpButton"
                    class="w-full sm:w-auto bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-150"
                >
                    Create New Kingdom
                </button>
                <button
                    id="signInButton"
                    class="w-full sm:w-auto bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-150"
                >
                    Enter Existing Kingdom
                </button>
            </div>
            <p id="authError" class="text-center text-sm mt-3 text-red-500"></p>
        </div>

        <!-- LOGOUT -->
        <div id="logoutDiv" class="text-center my-4 hidden">
            <button
                id="signOutButton"
                class="text-xs text-gray-500 hover:text-red-500 transition duration-150"
            >
                Leave the Realm (Log Out)
            </button>
        </div>

        <hr id="authDivider" class="my-6 hidden">

        <!-- MAIN GAME CONTENT -->
        <div id="gameContent" class="hidden">
            <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center">
                üè∞ Tiny Tribes: Click for Your Kingdom
            </h1>
            <p class="text-center text-xs mb-4 text-gray-600">
                Gather resources, grow your settlement and compete with other kingdoms in real time.
            </p>
            <p id="status" class="text-center text-sm mb-4 text-red-500">Initializing Firebase...</p>

            <!-- GLOBAL VS PERSONAL CLICKS -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div class="score-card global">
                    <h2 class="text-lg font-medium text-gray-600">Total Deeds (All Kingdoms)</h2>
                    <div id="globalScore" class="score-value">0</div>
                    <p class="text-xs text-gray-500 mt-1">
                        Updates in real-time for every player in the realm.
                    </p>
                </div>

                <div class="score-card personal">
                    <h2 class="text-lg font-medium text-gray-600">Your Personal Deeds</h2>
                    <div id="personalScore" class="score-value">0</div>
                    <p class="text-xs text-gray-500 mt-1">
                        Your recorded actions, stored safely in the royal archives.
                    </p>
                </div>
            </div>

            <!-- MEDIEVAL RESOURCES SUMMARY -->
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="score-card">
                    <h2 class="text-sm font-medium text-gray-600">Gold</h2>
                    <div id="goldDisplay" class="score-value text-yellow-500">0</div>
                    <p class="text-xs text-gray-500 mt-1">
                        Earned by clicking to work your lands.
                    </p>
                </div>
                <div class="score-card">
                    <h2 class="text-sm font-medium text-gray-600">Troops</h2>
                    <div id="troopsDisplay" class="score-value text-red-500">0</div>
                    <p class="text-xs text-gray-500 mt-1">
                        Total soldiers ready to defend or attack.
                    </p>
                </div>
            </div>

            <!-- KINGDOM NAME (for later JS wiring) -->
            <div class="mb-8">
                <h2 class="text-sm font-semibold text-gray-700 mb-2">Your Kingdom Name</h2>
                <div class="flex flex-col sm:flex-row gap-3 items-center">
                    <input
                        type="text"
                        id="kingdomNameInput"
                        placeholder="e.g. Kingdom of Oakridge"
                        class="flex-grow w-full sm:w-auto p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"
                    >
                    <button
                        id="saveKingdomNameButton"
                        class="w-full sm:w-auto bg-amber-700 hover:bg-amber-800 text-white font-semibold py-2 px-5 rounded-lg text-sm shadow-md transition duration-150"
                    >
                        Save Kingdom Name
                    </button>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                    This name will appear on public leaderboards and in other players‚Äô lists of kingdoms.
                </p>
            </div>

            <!-- MAIN CLICK BUTTON -->
            <div class="flex justify-center mb-8">
                <button
                    id="clickButton"
                    class="bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-4 px-12 rounded-full text-2xl shadow-lg transition duration-150 ease-in-out transform hover:scale-105 active:shadow-md focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50"
                    disabled
                >
                    Harvest Resources (+1 Gold)
                </button>
            </div>

            <hr class="my-6">
            
            <!-- ATTACK SECTION -->
            <h2 class="text-xl font-bold text-gray-800 mb-4 text-center">‚öîÔ∏è Raid Another Kingdom ‚öîÔ∏è</h2>
            
            <div class="flex flex-col sm:flex-row gap-3 items-center justify-center">
                <input
                    type="text"
                    id="targetUserId"
                    placeholder="Enter Target Kingdom's Player ID"
                    class="flex-grow w-full sm:w-auto p-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"
                >
                
                <button
                    id="attackButton"
                    class="w-full sm:w-auto bg-red-700 hover:bg-red-800 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-md transition duration-150 ease-in-out transform focus:outline-none focus:ring-4 focus:ring-red-500 focus:ring-opacity-50"
                    disabled
                >
                    Raid (-5 Deeds)
                </button>
            </div>
            <p class="text-center text-xs mt-2 text-gray-500">
                Use the Player ID from the bottom of another player‚Äôs screen to target their kingdom.
            </p>

            <!-- PUBLIC KINGDOMS LIST -->
            <div class="mt-8 pt-4 border-t border-gray-200">
                <h2 class="text-lg font-bold text-gray-800 mb-2 text-center">üåê Known Kingdoms</h2>
                <p class="text-center text-xs mb-3 text-gray-500">
                    A glimpse at some of the realms active in Tiny Tribes. Stats update in real time.
                </p>
                <ul id="kingdomList" class="space-y-2 text-sm max-h-64 overflow-y-auto">
                    <!-- Populated dynamically by click.js -->
                </ul>
            </div>
            
            <!-- PLAYER ID FOOTER -->
            <div class="mt-8 pt-4 border-t border-gray-200 text-center">
                <h3 class="text-sm font-semibold text-gray-600 mb-2">Your Unique Player ID</h3>
                <code
                    id="userIdDisplay"
                    class="text-xs bg-gray-100 p-2 rounded-lg text-gray-700 break-all"
                >
                    Signed Out
                </code>
                <p class="text-xs mt-2 text-gray-500">
                    Share this ID with friends so they can find your kingdom or challenge you in raids.
                </p>
            </div>
        </div>
    </div>

    <script type="module" src="click.js"></script>
</body>
</html>
